<!DOCTYPE html>
<meta charset="utf-8">
<style>
</style>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<ul id='grid'>
</ul>
<script>
$('#grid').append('<li>typeof Uint8ClampedArray is '+typeof Uint8ClampedArray+'</li>');
$('#grid').append('<li>typeof ArrayBuffer.prototype.slice is '+typeof ArrayBuffer.prototype.slice+'</li>');
var worker,worker2,buffer;
try{
	worker = new Worker(window.URL.createObjectURL(new Blob(["self.onmessage=function(e){self.postMessage(e.data);}"],{type: "text/javascript"})));
	worker.onmessage=function(e){
		$('#grid').append('<li>blob worker creation is '+e.data+'</li>');
		worker.terminate();
	}
	worker.postMessage('a success');
	
}catch(e){
	$('#grid').append('<li>blob worker creation is a failure</li>');
}
try{
	worker2 = new Worker('workerScript.js');
	buffer =  new ArrayBuffer(9);
	worker2.onmessage=function(e){
		if(e.data.byteLength === 9){
				$('#grid').append('<li>Transferable Objects Work</li>');
		}else{
			$('#grid').append('<li>Transferable Objects Fail</li>');
		}
		worker2.terminate();
	}
	worker2.postMessage(buffer,[buffer]);
}catch(e){
	$('#grid').append('<li>Transferable Objects Explode</li>');
	
}
</script>